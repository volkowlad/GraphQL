# GraphQl

## Реализована система для добавления и чтения постов и комментариев со следующеми характеристиками
- можно посмотреть весь список постов
- можно посмотреть по и комментарии под ним
- пользователь, написавший пост, может запретить оставление комментариев к своему посту
- комментарии организованы иерархически, позволяя вложенность без ограничений
- длина текста комментария ограничена до 2000 символов
- система пагинации для получения списка комментариев
- комментарии к постам доставляются ассинхронно (клиенты, подписанные на определенный пост, получают уведомления о новых комментариев без необходимости повтроного запроса)

### В проекте разобраны следующие концепции:
- Разработка Веб-Приложений на Go, используя GraphQl.
- Работа c GraphQl c помощью библиотеки github.com/99designs/gqlgen.
- Подход Чистой Архитектуры в построении приложения. Техника внедрения зависимостей.
- Работа с БД PostgreSQL: выполнены миграции с помощью migrate, запуск, используя Docker и Docker Compose. Миграции совершаются автоматически при запуске контейнеров.
- Реализовано переключение между местами хранения данных: in-memory и PostgreSQL.
- Для работы с БД ипользовалась библиотека pgx. Выполнение SQL запросов, выполнение транзакций. Работа с базой данных происходит через пул соединений.
- Реализованный функционал покрыт unit-тестами и mock-тестами.
- Код покрыт ошибками при различных сценраиях.
- Код покрыт логами.
- Сделан Makefile для удобной работы с проектомю.
- Graceful Shutdown.
- Реализован deployment Kubernetus для случая, когда приложение запускается in-memory

### Для запуска приложения in-memory:
```
make memory
```
### Для запуска приложения PostgreSQL:
```
make postgres
```
### Для остановки приложения:
```
make down
```
### Для тестов:
```
make test
```